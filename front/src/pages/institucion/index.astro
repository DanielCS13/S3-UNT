---
import Layout from "../../layout/Layout.astro";
import Navbar from "../../components/Navbar.astro";
import Institucion from "../../components/Institucion.astro";
import axios from "axios";

    const instituciones = await axios.get("http://localhost:3000/api/institution");
    console.log(instituciones.data);
---

<Layout title="Lista de Instituciones">
    <Navbar />

    <section class="mx-auto max-w-screen-lg grid grid-cols-3 gap-8 p-6 mb-10 shadow-lg shadow-stone-300 rounded-lg">
        <div class="col-span-3 flex flex-row justify-between mb-4">
            <h1 class="font-bold text-xl">Lista de Instituciones</h1>
            <a href="/institucion/crear-institucion" 
            class="text-white bg-green-500 hover:bg-green-600 transition-all duration-300 px-3 py-2 rounded-md space-x-1" >
                <i class="fa-solid fa-house"></i>
                <span class="font-semibold">Nueva instituci√≥n</span>
            </a>
        </div>
        {
            instituciones.data.map((institucion) => (
                <Institucion 
                    name={institucion.nameInstitution} 
                    urlImage={institucion.fileData.url}
                />
            ))
        }
        <!-- <Institucion /> -->
    </section>
</Layout>

<script>
    
</script>
